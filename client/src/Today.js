// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var CssJs = require("bs-css-emotion/src/CssJs.js");
var Curry = require("rescript/lib/js/curry.js");
var React = require("react");
var StringToColor = require("string-to-color");

function str(s) {
  return s;
}

var container = CssJs.style([
      CssJs.display("flex"),
      CssJs.overflow("hidden"),
      CssJs.lineHeight(CssJs.px(0)),
      CssJs.fontSize(CssJs.px(12)),
      CssJs.backgroundColor(CssJs.hex("e9ecef")),
      CssJs.borderRadius(CssJs.px(4)),
      CssJs.flex3(1, 1, CssJs.auto),
      CssJs.alignSelf("center"),
      CssJs.marginLeft(CssJs.px(6)),
      CssJs.height(CssJs.px(6))
    ]);

function filling(_width) {
  return CssJs.style([
              CssJs.width(CssJs.pct(_width)),
              CssJs.backgroundColor(CssJs.darkgrey)
            ]);
}

var Styles = {
  container: container,
  filling: filling
};

function Today$ProgressBar(Props) {
  var percent = Props.percent;
  return React.createElement("div", {
              className: container
            }, React.createElement("div", {
                  className: filling(percent)
                }));
}

var ProgressBar = {
  Styles: Styles,
  make: Today$ProgressBar
};

var bookContainer = CssJs.style([
      CssJs.position("relative"),
      CssJs.display("flex"),
      CssJs.flexWrap("wrap"),
      CssJs.flexDirection("column"),
      CssJs.minWidth(CssJs.px(0)),
      CssJs.wordWrap("breakWord"),
      CssJs.backgroundColor(CssJs.hex("fff")),
      CssJs.backgroundClip("borderBox"),
      CssJs.border(CssJs.px(1), "solid", CssJs.rgba(0, 0, 0, {
                NAME: "num",
                VAL: 0.125
              })),
      CssJs.borderRadius(CssJs.px(4)),
      CssJs.width(CssJs.px(288)),
      CssJs.margin(CssJs.px(8))
    ]);

function bgColor(name) {
  var color = StringToColor(name).replace("#", "");
  return CssJs.style([CssJs.background(CssJs.hex(color + "7d"))]);
}

var book = CssJs.style([
      CssJs.position("relative"),
      CssJs.flex3(1, 1, CssJs.auto),
      CssJs.minHeight(CssJs.px(1)),
      CssJs.padding(CssJs.px(20)),
      CssJs.selector("& > h1", [
            CssJs.fontSize(CssJs.px(20)),
            CssJs.fontWeight({
                  NAME: "num",
                  VAL: 500
                }),
            CssJs.lineHeight(CssJs.px(24)),
            CssJs.margin3(CssJs.px(0), "auto", CssJs.px(12))
          ])
    ]);

var progress = CssJs.style([
      CssJs.display("flex"),
      CssJs.selector("& > div:first-child", [CssJs.fontSize(CssJs.px(12))])
    ]);

var overlay = CssJs.style([
      CssJs.background(CssJs.rgba(255, 255, 255, {
                NAME: "num",
                VAL: 0.8
              })),
      CssJs.display("flex"),
      CssJs.justifyContent("center"),
      CssJs.alignItems("center"),
      CssJs.position("absolute"),
      CssJs.top(CssJs.px(0)),
      CssJs.left(CssJs.px(0)),
      CssJs.width(CssJs.pct(100)),
      CssJs.height(CssJs.pct(100))
    ]);

var Styles$1 = {
  bookContainer: bookContainer,
  bgColor: bgColor,
  book: book,
  progress: progress,
  overlay: overlay
};

function Today$Book(Props) {
  var name = Props.name;
  var currentPage = Props.currentPage;
  var pagesTotal = Props.pagesTotal;
  var match = React.useState(function () {
        return false;
      });
  var setHover = match[1];
  var progressInPercent = function (currentPage, pagesTotal) {
    return Math.min(currentPage / pagesTotal * 100.0, pagesTotal);
  };
  return React.createElement("div", {
              className: bookContainer,
              onMouseLeave: (function (param) {
                  return Curry._1(setHover, (function (param) {
                                return false;
                              }));
                }),
              onMouseOver: (function (param) {
                  return Curry._1(setHover, (function (param) {
                                return true;
                              }));
                })
            }, React.createElement("div", {
                  className: CssJs.merge([
                        book,
                        bgColor(name)
                      ])
                }, React.createElement("h1", undefined, name), React.createElement("div", {
                      className: progress
                    }, React.createElement("div", undefined, currentPage.toString() + " of " + pagesTotal.toString() + " pages read"), React.createElement(Today$ProgressBar, {
                          percent: progressInPercent(currentPage, pagesTotal)
                        })), match[0] ? React.createElement("div", {
                        className: overlay
                      }, "") : React.createElement(React.Fragment, undefined)));
}

var Book = {
  Styles: Styles$1,
  make: Today$Book
};

var _books = [
  {
    name: "Ensel und Krete",
    author: "Walter Moers",
    pagesTotal: 255,
    currentPage: 100,
    dateStarted: "04/02/2018",
    readTime: 0
  },
  {
    name: "Harry Potski",
    author: "Jon Doe",
    pagesTotal: 255,
    currentPage: 200,
    dateStarted: "04/02/2018",
    readTime: 0
  }
];

var container$1 = CssJs.style([CssJs.padding(CssJs.px(24))]);

var label = CssJs.style([
      CssJs.fontSize(CssJs.px(13)),
      CssJs.color(CssJs.hex("6c757d")),
      CssJs.textTransform("uppercase"),
      CssJs.margin(CssJs.px(8))
    ]);

var row = CssJs.style([
      CssJs.display("flex"),
      CssJs.flexWrap("wrap")
    ]);

var Styles$2 = {
  container: container$1,
  label: label,
  row: row
};

function Today(Props) {
  return React.createElement("div", undefined, React.createElement("div", {
                  className: container$1
                }, React.createElement("div", {
                      className: label
                    }, "In Progress"), React.createElement("div", {
                      className: row
                    }, _books.filter(function (param) {
                              return param.currentPage <= param.pagesTotal;
                            }).sort(function (_1, _2) {
                            if (_1.name < _2.name) {
                              return -1;
                            } else {
                              return 1;
                            }
                          }).map(function (param) {
                          var name = param.name;
                          return React.createElement(Today$Book, {
                                      name: name,
                                      currentPage: param.currentPage,
                                      pagesTotal: param.pagesTotal,
                                      key: name
                                    });
                        }))), React.createElement("div", undefined, "Completed"));
}

var make = Today;

exports.str = str;
exports.ProgressBar = ProgressBar;
exports.Book = Book;
exports._books = _books;
exports.Styles = Styles$2;
exports.make = make;
/* container Not a pure module */
